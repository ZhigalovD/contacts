(function(t){function e(e){for(var i,s,c=e[0],r=e[1],u=e[2],_=0,f=[];_<c.length;_++)s=c[_],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/contacts/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3865:function(t,e,n){},4451:function(t,e,n){"use strict";n("5f69")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=n("2f62"),o=(n("4de4"),n("c740"),n("4160"),n("a434"),n("159b"),n("5530")),s={state:{id_contact:"",contacts:[],list:[{id:0,name:"e-mail"},{id:1,name:"address"},{id:2,name:"social"},{id:3,name:"work"},{id:4,name:"birthday"}],otherInfo:[],mainInfo:{}},getters:{GET_CONTACTS:function(t){return t.contacts},GET_ID_CONTACT:function(t){return t.id_contact},GET_LIST:function(t){return t.list},GET_OTHER_INFO:function(t){return t.otherInfo},GET_MAIN_INFO:function(t){return t.mainInfo}},mutations:{SET_CONTACT_ID:function(t,e){t.id_contact=e},GET_STORE_CONTACTS:function(t){if(localStorage.getItem("contacts")){t.contacts=[];var e=JSON.parse(localStorage.getItem("contacts"));e.forEach((function(e){t.contacts.push(e)}))}},DELETE_LIST:function(t,e){var n=t.list.filter((function(t){return t.id===+e.id}));t.list.forEach((function(e,i){e.id===n[0].id&&t.list.splice(i,1)}))},SET_OTHER_INFO:function(t,e){t.otherInfo.push(e)},ADD_OTHER_INFO:function(t,e){var n=t.otherInfo.findIndex((function(t){return t.id===e.id}));console.log(t.otherInfo[n]),t.otherInfo[n]&&(t.otherInfo[n]=Object(o["a"])(Object(o["a"])({},t.otherInfo[n]),{},{value:e.value}))},SET_MAIN_INFO:function(t,e){t.mainInfo=e},SET_LIST:function(t,e){t.list=e},SET_FULL_CONTACT:function(t,e){if(0===t.contacts.length)t.contacts.push(e);else{var n=t.contacts.findIndex((function(t){return t.id_contact===e.id_contact}));t.contacts[n]?t.contacts.splice(n,1,e):t.contacts.push(e)}localStorage.setItem("contacts",JSON.stringify(t.contacts))},DELETE_CONTACT:function(t,e){var n=t.contacts.findIndex((function(t){return t.id_contact===e.id_contact}));t.contacts[n]&&t.contacts.splice(n,1);var i=JSON.parse(localStorage.getItem("contacts"));i.forEach((function(t,n){t.id_contact===e.id_contact&&(i.splice(n,1),localStorage.setItem("contacts",JSON.stringify(i)))}))},SET_INFORMATION_FROM_CONTACTS:function(t,e){t.otherInfo=e},UPDATE_INFO:function(t,e){var n=t.otherInfo.filter((function(t){return t.id===e.id}));t.otherInfo.forEach((function(i,a){i.id===n[0].id&&t.otherInfo.splice(a,1,e)}))},DELETE_INFO:function(t,e){var n=t.otherInfo.filter((function(t){return t.id===e.id}));t.otherInfo.forEach((function(e,i){e.id===n[0].id&&t.otherInfo.splice(i,1)}))},CLEAR_MAIN_INFO:function(t,e){t.mainInfo=e},CLEAR_OTHER_INFO:function(t,e){t.otherInfo=e}},actions:{}},c={state:{isShowPopup:!1,thisArr:[],nameEvent:[]},getters:{IS_SHOW_POPUP:function(t){return t.isShowPopup},GET_ARR:function(t){return t.thisArr},GET_NAME_EVENT:function(t){return t.nameEvent}},mutations:{SHOW_POPUP:function(t,e){t.isShowPopup=e},SET_ARR:function(t,e){t.thisArr=e},SET_NAME_EVENT:function(t,e){t.nameEvent=e}},actions:{}};i["a"].use(a["a"]);var r=new a["a"].Store({modules:{information:s,popup:c}}),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view"),t.IS_SHOW_POPUP?n("popup"):t._e()],1)},l=[],_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"header__wrapper container"},[i("div",{staticClass:"header__logo"},[i("router-link",{attrs:{to:"/"}},[i("img",{attrs:{src:n("9d64"),alt:""}})])],1),i("div",{staticClass:"header__active-elements"},[i("router-link",{attrs:{to:"/"}},[i("img",{attrs:{src:n("78e8"),alt:""}})]),i("router-link",{attrs:{to:"/information"},nativeOn:{click:function(e){return t.createContact(e)}}},[i("img",{attrs:{src:n("8048"),alt:""}})])],1)])])},f=[],h=n("9612"),d={name:"Header",methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["SET_CONTACT_ID","CLEAR_OTHER_INFO","SET_LIST"])),{},{createContact:function(){this.SET_CONTACT_ID(h["b"].v1()),this.CLEAR_OTHER_INFO([]),this.SET_LIST([{id:0,name:"e-mail"},{id:1,name:"address"},{id:2,name:"social"},{id:3,name:"work"},{id:4,name:"birthday"}])}})},m=d,p=(n("9193"),n("2877")),T=Object(p["a"])(m,_,f,!1,null,null,null),O=T.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup"},[n("div",{staticClass:"popup__bg"}),n("div",{staticClass:"popup__wrapper"},[n("div",{staticClass:"popup__title"},[t._v(" Вы точно хотите "+t._s(t.GET_NAME_EVENT.text)+" это поле? ")]),n("button",{on:{click:t.confirmation}},[t._v("Да")]),n("button",{on:{click:t.notConfirm}},[t._v("Нет")])])])},v=[],I=(n("b0c0"),{name:"Popup",computed:Object(a["b"])(["GET_ARR","GET_NAME_EVENT"]),methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["UPDATE_INFO","DELETE_INFO","SHOW_POPUP"])),{},{confirmation:function(){"edit"===this.GET_NAME_EVENT.name?this.UPDATE_INFO({id:this.GET_ARR.id,nameInformation:this.GET_ARR.nameInformation,valueInformation:this.GET_ARR.valueInformation}):this.DELETE_INFO({id:this.GET_ARR.id}),this.SHOW_POPUP(!1)},notConfirm:function(){this.SHOW_POPUP(!1)}})}),N=I,C=(n("622c"),Object(p["a"])(N,E,v,!1,null,null,null)),b=C.exports,S={components:{Header:O,Popup:b},computed:Object(a["b"])(["IS_SHOW_POPUP"])},g=S,A=Object(p["a"])(g,u,l,!1,null,null,null),F=A.exports,L=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"home__items"},t._l(t.GET_CONTACTS,(function(t,e){return n("contact-item",{key:e,attrs:{contacts:t}})})),1)])},R=[],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contact-item"},[i("div",{staticClass:"contact-item__wrapper container"},[t._m(0),i("a",{staticClass:"contact-item__main",attrs:{href:"tel:"+t.contacts.main.phone}},[i("div",{staticClass:"contact-item__main--name"},[t._v(t._s(t.contacts.main.firstName)+" "+t._s(t.contacts.main.lastName))]),i("div",{staticClass:"contact-item__main--phone"},[t._v(t._s(t.contacts.main.phone))])]),i("div",{staticClass:"contact-item__info"},[i("router-link",{attrs:{to:{path:"information",query:{contact_id:t.contacts.id_contact}}},nativeOn:{click:function(e){return t.setIdContact(e)}}},[i("img",{attrs:{src:n("6dcc"),alt:""}})])],1)])])},D=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contact-item__avatar"},[i("img",{attrs:{src:n("ec0c"),alt:""}})])}],G={name:"ContactItem",props:{contacts:{type:Object,default:function(){return{}}}},methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["SET_CONTACT_ID","SET_LIST"])),{},{setIdContact:function(){this.SET_CONTACT_ID(this.contacts.id_contact)}})},y=G,w=(n("cc20"),Object(p["a"])(y,P,D,!1,null,null,null)),x=w.exports,H={name:"Home",components:{ContactItem:x},computed:Object(a["b"])(["GET_CONTACTS"]),created:function(){this.GET_STORE_CONTACTS(),this.SET_LIST([{id:0,name:"e-mail"},{id:1,name:"address"},{id:2,name:"social"},{id:3,name:"work"},{id:4,name:"birthday"}])},methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["SET_CONTACT_ID","GET_STORE_CONTACTS","SET_LIST"])),{},{createContact:function(){this.SET_CONTACT_ID(h["b"].v1())}})},M=H,k=(n("de16"),Object(p["a"])(M,j,R,!1,null,null,null)),$=k.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info container"},[n("div",{staticClass:"info__photo"},[t._m(0),n("h1",[t._v(t._s(t.lastName)+" "+t._s(t.firstName))]),t._m(1)]),n("div",{staticClass:"info__wrapper"},[n("div",{staticClass:"info__required-fields"},[n("div",{staticClass:"info__required-fields--inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],attrs:{type:"text",name:"firstName"},domProps:{value:t.firstName},on:{change:t.changeMainInfo,focus:function(e){t.isChoosedFirstName=!0},blur:function(e){t.firstName.length>0?t.isChoosedFirstName=!0:t.isChoosedFirstName=!1},input:function(e){e.target.composing||(t.firstName=e.target.value)}}}),n("label",{class:{active:t.isChoosedFirstName}},[t._v("first name")]),n("span",[t._v(t._s(t.errors.errorFirstName))])]),n("div",{staticClass:"info__required-fields--inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{type:"text",name:"lastName"},domProps:{value:t.lastName},on:{change:t.changeMainInfo,focus:function(e){t.isChoosedLastName=!0},blur:function(e){t.lastName.length>0?t.isChoosedLastName=!0:t.isChoosedLastName=!1},input:function(e){e.target.composing||(t.lastName=e.target.value)}}}),n("label",{class:{active:t.isChoosedLastName}},[t._v("last name")])]),n("div",{staticClass:"info__required-fields--inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",name:"phone"},domProps:{value:t.phone},on:{change:t.changeMainInfo,focus:function(e){t.isChoosedPhone=!0},blur:function(e){t.phone.length>0?t.isChoosedPhone=!0:t.isChoosedPhone=!1},input:function(e){e.target.composing||(t.phone=e.target.value)}}}),n("label",{class:{active:t.isChoosedPhone}},[t._v("phone")]),n("span",[t._v(t._s(t.errors.errorPhone))])])]),n("div",{staticClass:"info__item"},[t._l(t.GET_OTHER_INFO,(function(t,e){return n("input-other",{key:e,attrs:{item:t}})})),n("list-fields",{class:{"list-fields__active":t.isListFields}}),t.GET_LIST.length>0?n("div",{staticClass:"info__other-button",on:{click:t.slideList}},[t._v(" "+t._s(t.isListFields?"отмена":"добавить поле")+" ")]):t._e()],2),n("div",{staticClass:"info__add"},[n("router-link",{class:{disabled:t.isButtonSaveDisabled},attrs:{to:"/"},nativeOn:{click:function(e){return t.saveContact(e)}}},[t._v("Сохранить")]),n("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){return t.cancelPage(e)}}},[t._v("Отмена")]),n("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){return t.deleteContact(e)}}},[t._v("delete")])],1)])])},W=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info__photo-bg"},[i("img",{attrs:{src:n("ec0c"),alt:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info__avatar"},[i("img",{attrs:{src:n("ec0c"),alt:""}})])}],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-fields"},[n("ul",t._l(t.GET_LIST,(function(e,i){return n("li",{key:i,attrs:{"data-id":e.id},on:{click:t.chooseListFields}},[t._v(" "+t._s(e.name)+" ")])})),0)])},J=[],V={name:"ListFields",computed:Object(o["a"])({},Object(a["b"])(["GET_LIST"])),methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["SET_OTHER_INFO","DELETE_LIST"])),{},{chooseListFields:function(t){this.SET_OTHER_INFO({id:t.target.dataset.id,nameInput:t.target.innerText}),this.DELETE_LIST({id:t.target.dataset.id})}})},B=V,z=(n("4451"),Object(p["a"])(B,q,J,!1,null,null,null)),K=z.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info__other"},[n("div",{staticClass:"info__other-inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueInput,expression:"valueInput"}],attrs:{type:"text",name:t.item.nameInput},domProps:{value:t.valueInput},on:{change:t.changeOtherInfo,focus:function(e){t.isChoosedImput=!0},blur:function(e){t.valueInput.length>0?t.isChoosedImput=!0:t.isChoosedImput=!1},input:function(e){e.target.composing||(t.valueInput=e.target.value)}}}),n("label",{class:{active:t.isChoosedImput}},[t._v(t._s(t.item.nameInput))]),n("span",[t._v(t._s(t.errors.errors))])])])},X=[],Y={name:"InputOther",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{errors:{},isChoosedImput:!1,valueInput:""}},computed:Object(o["a"])({},Object(a["b"])(["GET_CONTACTS"])),created:function(){this.fetchData()},watch:{$route:"fetchData"},mounted:function(){this.inputEmpty()},methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["ADD_OTHER_INFO"])),{},{changeOtherInfo:function(){this.valueInput.length>=3?(this.errors={},this.ADD_OTHER_INFO({id:this.item.id,value:this.valueInput})):this.valueInput.length<3&&(this.errors=Object(o["a"])(Object(o["a"])({},this.errors),{},{error:"Некоректные данные"}))},inputEmpty:function(){this.valueInput.length>0&&(this.isChoosedImput=!0)},fetchData:function(){this.valueInput=this.item.value}})},Z=Y,tt=(n("97d2"),Object(p["a"])(Z,Q,X,!1,null,null,null)),et=tt.exports,nt={name:"Information",components:{ListFields:K,InputOther:et},data:function(){return{errors:{},firstName:"",lastName:"",phone:"",isChoosedFirstName:!1,isChoosedLastName:!1,isChoosedPhone:!1,isListFields:!1,file:""}},computed:Object(o["a"])(Object(o["a"])({},Object(a["b"])(["GET_OTHER_INFO","GET_MAIN_INFO","GET_ID_CONTACT","GET_CONTACTS","GET_LIST"])),{},{isButtonSaveDisabled:function(){return!this.firstName||!this.phone}}),created:function(){this.GET_STORE_CONTACTS(),this.fetchData()},watch:{$route:"fetchData"},mounted:function(){var t=this;this.inputEmpty(),this.GET_OTHER_INFO.forEach((function(e){t.GET_LIST.forEach((function(n){e.nameInput===n.name&&t.DELETE_LIST({id:e.id})}))}))},methods:Object(o["a"])(Object(o["a"])({},Object(a["c"])(["SET_MAIN_INFO","SET_FULL_CONTACT","SET_OTHER_INFO","CLEAR_MAIN_INFO","CLEAR_OTHER_INFO","SET_INFORMATION_FROM_CONTACTS","GET_STORE_CONTACTS","DELETE_CONTACT","DELETE_LIST"])),{},{inputEmpty:function(){this.firstName.length>0&&(this.isChoosedFirstName=!0),this.lastName.length>0&&(this.isChoosedLastName=!0),this.phone.length>0&&(this.isChoosedPhone=!0)},slideList:function(){this.isListFields?this.isListFields=!1:this.isListFields=!0},changeMainInfo:function(){this.firstName.length>=3&&this.phone.length>=5?(this.errors={},this.SET_MAIN_INFO({firstName:this.firstName,lastName:this.lastName,phone:this.phone})):this.firstName.length<3?this.errors=Object(o["a"])(Object(o["a"])({},this.errors),{},{errorFirstName:"Укажите имя"}):this.phone.length<5&&(this.errors={},this.errors=Object(o["a"])(Object(o["a"])({},this.errors),{},{errorPhone:"Укажите телефон"}))},saveContact:function(){this.SET_FULL_CONTACT({id_contact:this.GET_ID_CONTACT,main:this.GET_MAIN_INFO,other:this.GET_OTHER_INFO}),this.CLEAR_OTHER_INFO([]),this.CLEAR_MAIN_INFO({})},cancelPage:function(){this.CLEAR_OTHER_INFO([]),this.CLEAR_MAIN_INFO({})},fetchData:function(){var t=this;this.GET_CONTACTS.forEach((function(e){e.id_contact===t.$route.query.contact_id&&(t.SET_INFORMATION_FROM_CONTACTS(e.other),t.firstName=e.main.firstName,t.lastName=e.main.lastName,t.phone=e.main.phone,t.SET_MAIN_INFO({firstName:e.main.firstName,lastName:e.main.lastName,phone:e.main.phone}))}))},deleteContact:function(){this.DELETE_CONTACT({id_contact:this.GET_ID_CONTACT})}})},it=nt,at=(n("ac95"),Object(p["a"])(it,U,W,!1,null,null,null)),ot=at.exports;i["a"].use(L["a"]);var st=[{path:"/",name:"Home",component:$},{path:"/information",name:"Information",component:ot},{path:"/information:id",name:"InformationEdit",component:ot}],ct=new L["a"]({mode:"history",base:"/contacts/",routes:st}),rt=ct;n("912e");i["a"].use(h["a"]),i["a"].config.productionTip=!1,new i["a"]({router:rt,store:r,render:function(t){return t(F)}}).$mount("#app")},"5f69":function(t,e,n){},"622c":function(t,e,n){"use strict";n("3865")},"62b3":function(t,e,n){},"668a":function(t,e,n){},"6dcc":function(t,e,n){t.exports=n.p+"img/info.c08ba133.svg"},"78e8":function(t,e,n){t.exports=n.p+"img/loupe.3c3889ee.svg"},"794c":function(t,e,n){},8048:function(t,e,n){t.exports=n.p+"img/add-user.34e94c3e.svg"},8691:function(t,e,n){},"8d91":function(t,e,n){},9193:function(t,e,n){"use strict";n("62b3")},"97d2":function(t,e,n){"use strict";n("668a")},"9d64":function(t,e,n){t.exports=n.p+"img/logo.cf2b49b6.png"},ac95:function(t,e,n){"use strict";n("8691")},cc20:function(t,e,n){"use strict";n("794c")},de16:function(t,e,n){"use strict";n("8d91")},ec0c:function(t,e,n){t.exports=n.p+"img/s1200.0b1ef352.webp"}});
//# sourceMappingURL=app.72687294.js.map